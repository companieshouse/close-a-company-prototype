{% extends "layouts/main-no-service-name.html" %}

{% block pageTitle %}
  {% if errorSummary %}
    Error: Enter your details to pay by account – {{ serviceName }} – GOV.UK Prototype Kit
  {% else %}
    Enter your details to pay by account – {{ serviceName }} – GOV.UK Prototype Kit
  {% endif %}
{% endblock %}

{% block beforeContent %}
  {{ govukBackLink({
    text: "Back",
    href: "javascript:window.history.back()"
  }) }}
{% endblock %}

{% block content %}

{% from "govuk/components/error-summary/macro.njk" import govukErrorSummary %}
{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/button/macro.njk" import govukButton %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">

    {% if errorSummary %}
      {{ govukErrorSummary({
        titleText: "There is a problem",
        errorList: errorSummary
      }) }}
    {% endif %}

    <form action="/V4/ch-pay" method="post" novalidate>

      <h1 class="govuk-heading-l">
        Enter your details to pay by account
      </h1>

  <div id="event-name-hint" class="govuk-hint">
    Enter the 11 character codes for your Companies House payment account
  </div>

      {# ---------------- Presenter ID ---------------- #}

      {% if presenterId is defined and presenterId != "" %}
        {{ govukInput({
          label: { text: "Presenter ID" },
          id: "presenter-id",
          name: "presenterId",
          value: presenterId
        }) }}
      {% elif errorSummary %}
        {{ govukInput({
          label: { text: "Presenter ID" },
          id: "presenter-id",
          name: "presenterId",
          errorMessage: {
            text: "Enter a Presenter ID"
          }
        }) }}
      {% else %}
        {{ govukInput({
          label: { text: "Presenter ID" },
          id: "presenter-id",
          name: "presenterId"
        }) }}
      {% endif %}

      {# -------- Presenter authentication code -------- #}

      {% if presenterAuthCode is defined and presenterAuthCode != "" %}
        {{ govukInput({
          label: { text: "Presenter authentication code" },
          id: "presenter-auth-code",
          name: "presenterAuthCode",
          value: presenterAuthCode
        }) }}
      {% elif errorSummary %}
        {{ govukInput({
          label: { text: "Presenter authentication code" },
          id: "presenter-auth-code",
          name: "presenterAuthCode",
          errorMessage: {
            text: "Enter a Presenter authentication code"
          }
        }) }}
      {% else %}
        {{ govukInput({
          label: { text: "Presenter authentication code" },
          id: "presenter-auth-code",
          name: "presenterAuthCode"
        }) }}
      {% endif %}

<details class="govuk-details">
  <summary class="govuk-details__summary">
    <span class="govuk-details__summary-text">
      I do not have these details
    </span>
  </summary>
  <div class="govuk-details__text">
  If you do not have details for an existing Companies House payment account, you'll need to pay by credit or debit card instead.

  <br> <br> Select 'Back' to return to the payment options and choose to pay by card.
  </div>
</details>

      {{ govukButton({
        text: "Confirm payment"
      }) }}

    </form>

  </div>
</div>

{% endblock %}
